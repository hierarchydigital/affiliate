<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Affiliate Program - Get Your Link</title>
    <link rel="stylesheet" href="style.css">
    <script type="module" src="firebaseConfig.js"></script>
    <script type="module" src="scripts/getClicks.js" defer></script>
    <script type="module" src="scripts/trackClick.js" defer></script>
</head>
<body>
    <header>
        <h1>Your Affiliate Link</h1>
    </header>
    <main>
        <section>
            <h2>Click Tracking</h2>
            <p id="click-count-display">Loading click count...</p>
            <p>Share this link to earn rewards:</p>
            <input type="text" id="affiliate-link" readonly>
            <button id="generate-link">Generate Link</button>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 Your Company Name. All rights reserved.</p>
    </footer>
    <script>
        // Generate affiliate link on button click
        document.getElementById('generate-link').addEventListener('click', function() {
            const affiliateId = 'USER_ID'; // Replace with actual user ID logic
            const link = `${window.location.origin}/affiliate.html?affiliateId=${affiliateId}`;
            document.getElementById('affiliate-link').value = link;
            trackClick(affiliateId); // Track the click when generating the link
        });
    </script>
</body>
</html>
